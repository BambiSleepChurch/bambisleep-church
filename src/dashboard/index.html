<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸŒ¸ BambiSleepâ„¢ MCP Control Tower</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
      c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
      t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "utux7nv0pm");
  </script>
</head>
<body class="dashboard-layout">
  <!-- Sidebar Overlay (Mobile) -->
  <div id="sidebar-overlay" class="sidebar-overlay" onclick="window.Dashboard.toggleSidebar()"></div>

  <!-- Sidebar Navigation -->
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <span class="sidebar-logo">ğŸŒ¸</span>
      <button class="sidebar-toggle" onclick="window.Dashboard.toggleSidebar()" title="Toggle sidebar">
        â˜°
      </button>
    </div>
    
    <nav class="sidebar-nav">
      <div class="nav-section">
        <div class="nav-section-title">Dashboard</div>
        <a class="nav-item active" data-section="overview" onclick="window.Dashboard.showSection('overview')">
          <span class="nav-item-icon">ğŸ“Š</span>
          <span class="nav-item-text">Overview</span>
        </a>
        <a class="nav-item" data-section="servers" onclick="window.Dashboard.showSection('servers')">
          <span class="nav-item-icon">âš¡</span>
          <span class="nav-item-text">MCP Servers</span>
          <span class="nav-badge" id="server-count">0</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Integrations</div>
        <a class="nav-item" data-section="memory" onclick="window.Dashboard.showSection('memory')">
          <span class="nav-item-icon">ğŸ§ </span>
          <span class="nav-item-text">Memory Graph</span>
        </a>
        <a class="nav-item" data-section="github" onclick="window.Dashboard.showSection('github')">
          <span class="nav-item-icon">ğŸ™</span>
          <span class="nav-item-text">GitHub</span>
        </a>
        <a class="nav-item" data-section="huggingface" onclick="window.Dashboard.showSection('huggingface')">
          <span class="nav-item-icon">ğŸ¤—</span>
          <span class="nav-item-text">HuggingFace</span>
        </a>
        <a class="nav-item" data-section="stripe" onclick="window.Dashboard.showSection('stripe')">
          <span class="nav-item-icon">ğŸ’³</span>
          <span class="nav-item-text">Stripe</span>
        </a>
        <a class="nav-item" data-section="mongodb" onclick="window.Dashboard.showSection('mongodb')">
          <span class="nav-item-icon">ğŸƒ</span>
          <span class="nav-item-text">MongoDB</span>
        </a>
        <a class="nav-item" data-section="sqlite" onclick="window.Dashboard.showSection('sqlite')">
          <span class="nav-item-icon">ğŸ’¾</span>
          <span class="nav-item-text">SQLite</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Tools</div>
        <a class="nav-item" data-section="agent" onclick="window.Dashboard.showSection('agent')">
          <span class="nav-item-icon">ğŸ¤–</span>
          <span class="nav-item-text">Agent Chat</span>
        </a>
        <a class="nav-item" data-section="puppeteer" onclick="window.Dashboard.showSection('puppeteer')">
          <span class="nav-item-icon">ğŸ­</span>
          <span class="nav-item-text">Puppeteer</span>
        </a>
        <a class="nav-item" data-section="thinking" onclick="window.Dashboard.showSection('thinking')">
          <span class="nav-item-icon">ğŸ’­</span>
          <span class="nav-item-text">Thinking</span>
        </a>
        <a class="nav-item" data-section="storage" onclick="window.Dashboard.showSection('storage')">
          <span class="nav-item-icon">ğŸ“</span>
          <span class="nav-item-text">Storage</span>
        </a>
        <a class="nav-item" data-section="fetch" onclick="window.Dashboard.showSection('fetch')">
          <span class="nav-item-icon">ğŸŒ</span>
          <span class="nav-item-text">Fetch</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Analytics</div>
        <a class="nav-item" data-section="clarity" onclick="window.Dashboard.showSection('clarity')">
          <span class="nav-item-icon">ğŸ“ˆ</span>
          <span class="nav-item-text">Clarity</span>
        </a>
        <a class="nav-item" data-section="activity" onclick="window.Dashboard.showSection('activity')">
          <span class="nav-item-icon">ğŸ“‹</span>
          <span class="nav-item-text">Activity</span>
        </a>
      </div>
    </nav>

    <div class="sidebar-footer">
      <div id="ws-indicator" class="ws-indicator ws-disconnected" title="WebSocket Status">
        <span class="ws-dot"></span>
        <span class="ws-label">Offline</span>
      </div>
    </div>
  </aside>

  <!-- Header -->
  <header class="header">
    <div class="header-inner header-inner-full">
      <div class="header-left">
        <button class="mobile-menu-btn btn btn-secondary" onclick="window.Dashboard.toggleSidebar()" title="Menu">
          â˜°
        </button>
        <h1 class="header-title">ğŸŒ¸ BambiSleepâ„¢ MCP Control Tower</h1>
      </div>
      <div class="header-actions">
        <div class="search-bar-compact">
          <input type="text" id="global-search" class="search-input" placeholder="ğŸ” Search... (Ctrl+K)" />
        </div>
        <button class="theme-toggle btn btn-secondary" onclick="window.Dashboard.toggleTheme()" title="Toggle theme">
          ğŸŒ™
        </button>
        <button class="btn btn-secondary" onclick="window.Dashboard.showShortcuts()" title="Keyboard shortcuts">
          âŒ¨ï¸
        </button>
        <div id="stats" class="stats-bar"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Overview Section (Default) -->
    <section id="section-overview" class="dashboard-section active">
      <!-- Quick Actions -->
      <div class="quick-actions">
        <button class="quick-action-btn primary" onclick="window.Dashboard.refresh()">
          ğŸ”„ Refresh All
        </button>
        <button class="quick-action-btn" onclick="window.Dashboard.exportConfigs()">
          ğŸ“¤ Export Configs
        </button>
        <button class="quick-action-btn" onclick="window.Dashboard.importConfigs()">
          ğŸ“¥ Import Configs
        </button>
        <button class="quick-action-btn" onclick="window.AgentChat?.newConversation()">
          ğŸ’¬ New Chat
        </button>
        <button class="quick-action-btn" onclick="window.AgentChat?.showTools()">
          ğŸ”§ View Tools
        </button>
      </div>

      <!-- Metrics Grid -->
      <div class="metrics-grid">
        <div class="metric-card glass-card">
          <div class="metric-header">
            <span class="metric-icon">âš¡</span>
            <span class="metric-trend up" id="metric-servers-trend">â†‘ Active</span>
          </div>
          <div class="metric-value" id="metric-servers">0</div>
          <div class="metric-label">MCP Servers</div>
        </div>
        <div class="metric-card glass-card">
          <div class="metric-header">
            <span class="metric-icon">ğŸ”Œ</span>
          </div>
          <div class="metric-value" id="metric-connections">0</div>
          <div class="metric-label">Active Connections</div>
        </div>
        <div class="metric-card glass-card">
          <div class="metric-header">
            <span class="metric-icon">ğŸ“Š</span>
          </div>
          <div class="metric-value" id="metric-requests">0</div>
          <div class="metric-label">API Requests</div>
        </div>
        <div class="metric-card glass-card">
          <div class="metric-header">
            <span class="metric-icon">â±ï¸</span>
          </div>
          <div class="metric-value" id="metric-uptime">0s</div>
          <div class="metric-label">Uptime</div>
        </div>
      </div>

      <!-- Dashboard Grid -->
      <div class="dashboard-grid">
        <!-- Server Status Panel -->
        <div class="panel panel-md">
          <div class="panel-header">
            <h3 class="panel-title">âš¡ Server Status</h3>
            <div class="panel-actions">
              <button class="btn btn-small btn-outline" onclick="window.Dashboard.refresh()">Refresh</button>
            </div>
          </div>
          <div class="panel-body" id="overview-servers">
            <div class="integrations-grid">
              <div class="integration-item" onclick="window.Dashboard.showSection('memory')">
                <span class="integration-icon">ğŸ§ </span>
                <span class="integration-name">Memory</span>
                <span class="integration-desc">Knowledge Graph</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('github')">
                <span class="integration-icon">ğŸ™</span>
                <span class="integration-name">GitHub</span>
                <span class="integration-desc">Repository Ops</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('huggingface')">
                <span class="integration-icon">ğŸ¤—</span>
                <span class="integration-name">HuggingFace</span>
                <span class="integration-desc">ML Models</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('stripe')">
                <span class="integration-icon">ğŸ’³</span>
                <span class="integration-name">Stripe</span>
                <span class="integration-desc">Payments</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('mongodb')">
                <span class="integration-icon">ğŸƒ</span>
                <span class="integration-name">MongoDB</span>
                <span class="integration-desc">Document DB</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('sqlite')">
                <span class="integration-icon">ğŸ’¾</span>
                <span class="integration-name">SQLite</span>
                <span class="integration-desc">Local DB</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('puppeteer')">
                <span class="integration-icon">ğŸ­</span>
                <span class="integration-name">Puppeteer</span>
                <span class="integration-desc">Browser Auto</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('fetch')">
                <span class="integration-icon">ğŸŒ</span>
                <span class="integration-name">Fetch</span>
                <span class="integration-desc">HTTP Requests</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('thinking')">
                <span class="integration-icon">ğŸ’­</span>
                <span class="integration-name">Thinking</span>
                <span class="integration-desc">Reasoning</span>
              </div>
              <div class="integration-item" onclick="window.Dashboard.showSection('storage')">
                <span class="integration-icon">ğŸ“</span>
                <span class="integration-name">Storage</span>
                <span class="integration-desc">File Hosting</span>
              </div>
            </div>
          </div>
        </div>

        <!-- System Info Panel -->
        <div class="panel panel-md">
          <div class="panel-header">
            <h3 class="panel-title">ğŸ“Š System Info</h3>
          </div>
          <div class="panel-body" id="system-info">
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">Status</span>
                <span class="info-value">Loading...</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Activity Feed Panel -->
        <div class="panel panel-full">
          <div class="panel-header">
            <h3 class="panel-title">ğŸ“‹ Recent Activity</h3>
            <div class="panel-actions">
              <button class="btn btn-small btn-outline" onclick="window.Dashboard.clearActivity()">Clear</button>
            </div>
          </div>
          <div class="panel-body no-padding" id="activity-feed">
            <!-- Activity feed renders here -->
          </div>
        </div>
      </div>
    </section>

    <!-- Servers Section -->
    <section id="section-servers" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">âš¡ MCP Servers</h2>
        <div class="section-actions">
          <div class="search-filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="running">Running</button>
            <button class="filter-btn" data-filter="stopped">Stopped</button>
            <button class="filter-btn" data-filter="error">Errors</button>
          </div>
          <button onclick="window.Dashboard.refresh()" class="btn btn-primary">ğŸ”„ Refresh</button>
        </div>
      </div>
      
      <div id="servers" class="server-grid">
        <!-- Server cards render here via JavaScript -->
        <div class="glass-card server-card">
          <div class="skeleton skeleton-title"></div>
          <div class="skeleton skeleton-text"></div>
        </div>
      </div>
    </section>

    <!-- Agent Section -->
    <section id="section-agent" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ¤– Agent Orchestrator</h2>
        <div class="section-actions">
          <button onclick="window.AgentChat?.newConversation()" class="btn btn-outline">â• New Chat</button>
          <button onclick="window.AgentChat?.showTools()" class="btn btn-outline">ğŸ”§ Tools</button>
        </div>
      </div>
      <div id="agent-container">
        <div class="glass-card skeleton-card">
          <div class="skeleton skeleton-title skeleton-centered"></div>
          <div class="skeleton skeleton-text skeleton-narrow skeleton-centered"></div>
        </div>
      </div>
    </section>

    <!-- Clarity Section -->
    <section id="section-clarity" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“ˆ Analytics Dashboard</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('clarity', 'init')" class="btn btn-outline">ğŸš€ Init</button>
          <button onclick="window.Dashboard.serverAction('clarity', 'dashboard')" class="btn btn-outline">ğŸ“Š Dashboard</button>
          <button onclick="window.Dashboard.refreshClarity()" class="btn btn-primary">ğŸ”„ Refresh</button>
        </div>
      </div>
      <div id="clarity-container">
        <div class="glass-card skeleton-card">
          <div class="skeleton skeleton-title skeleton-centered"></div>
          <div class="skeleton skeleton-text skeleton-narrow skeleton-centered"></div>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Activity Section -->
    <section id="section-activity" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“‹ Activity Feed</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.clearActivity()" class="btn btn-outline">Clear All</button>
        </div>
      </div>
      <div id="activity-feed-full" class="glass-card">
        <!-- Full activity feed renders here -->
      </div>
    </section>

    <!-- Memory Section -->
    <section id="section-memory" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ§  Memory Knowledge Graph</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('memory', 'readGraph')" class="btn btn-outline">ğŸ“– Read Graph</button>
          <button onclick="window.Dashboard.serverAction('memory', 'search')" class="btn btn-primary">ğŸ” Search</button>
        </div>
      </div>
      <div id="memory-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ§ </span>
          <h3>Memory Knowledge Graph</h3>
          <p>Click "Read Graph" to view entities and relations, or "Search" to find specific nodes.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- GitHub Section -->
    <section id="section-github" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ™ GitHub Integration</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('github', 'user')" class="btn btn-outline">ğŸ‘¤ My Profile</button>
          <button onclick="window.Dashboard.serverAction('github', 'repos')" class="btn btn-primary">ğŸ“‚ My Repos</button>
        </div>
      </div>
      <div id="github-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ™</span>
          <h3>GitHub Integration</h3>
          <p>View your profile or browse your repositories.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- HuggingFace Section -->
    <section id="section-huggingface" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ¤— HuggingFace ML</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('huggingface', 'models')" class="btn btn-outline">ğŸ¤– Search Models</button>
          <button onclick="window.Dashboard.serverAction('huggingface', 'datasets')" class="btn btn-primary">ğŸ“Š Search Datasets</button>
        </div>
      </div>
      <div id="huggingface-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ¤—</span>
          <h3>HuggingFace ML Hub</h3>
          <p>Search for ML models and datasets from the HuggingFace Hub.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Stripe Section -->
    <section id="section-stripe" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ’³ Stripe Payments</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('stripe', 'customers')" class="btn btn-outline">ğŸ‘¥ Customers</button>
          <button onclick="window.Dashboard.serverAction('stripe', 'balance')" class="btn btn-primary">ğŸ’° Balance</button>
        </div>
      </div>
      <div id="stripe-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ’³</span>
          <h3>Stripe Payments</h3>
          <p>View customers and check your account balance.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- MongoDB Section -->
    <section id="section-mongodb" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸƒ MongoDB Database</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('mongodb', 'connect')" class="btn btn-outline">ğŸ”Œ Connect</button>
          <button onclick="window.Dashboard.serverAction('mongodb', 'collections')" class="btn btn-outline">ğŸ“š Collections</button>
          <button onclick="window.Dashboard.serverAction('mongodb', 'stats')" class="btn btn-primary">ğŸ“Š Stats</button>
        </div>
      </div>
      <div id="mongodb-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸƒ</span>
          <h3>MongoDB Database</h3>
          <p>Connect to MongoDB, browse collections, and view database stats.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- SQLite Section -->
    <section id="section-sqlite" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ’¾ SQLite Database</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('sqlite', 'tables')" class="btn btn-outline">ğŸ“‹ Tables</button>
          <button onclick="window.Dashboard.serverAction('sqlite', 'stats')" class="btn btn-primary">ğŸ“Š Stats</button>
        </div>
      </div>
      <div id="sqlite-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ’¾</span>
          <h3>SQLite Database</h3>
          <p>Browse tables and view database statistics.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Puppeteer Section -->
    <section id="section-puppeteer" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ­ Puppeteer Browser</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('puppeteer', 'status')" class="btn btn-outline">ğŸ“Š Status</button>
          <button onclick="window.Dashboard.serverAction('puppeteer', 'launch')" class="btn btn-primary">ğŸš€ Launch</button>
        </div>
      </div>
      <div id="puppeteer-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ­</span>
          <h3>Puppeteer Browser Automation</h3>
          <p>Check status or launch a headless browser instance.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Thinking Section -->
    <section id="section-thinking" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ’­ Sequential Thinking</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('thinking', 'sessions')" class="btn btn-outline">ğŸ“œ Sessions</button>
          <button onclick="window.Dashboard.serverAction('thinking', 'stats')" class="btn btn-primary">ğŸ“Š Stats</button>
        </div>
      </div>
      <div id="thinking-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ’­</span>
          <h3>Sequential Thinking</h3>
          <p>View reasoning sessions and thinking chain statistics.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Storage Section -->
    <section id="section-storage" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸ“ File Storage</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('storage', 'files')" class="btn btn-outline">ğŸ“‚ List Files</button>
          <button onclick="window.Dashboard.serverAction('storage', 'stats')" class="btn btn-primary">ğŸ“Š Stats</button>
        </div>
      </div>
      <div id="storage-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸ“</span>
          <h3>File Storage</h3>
          <p>Browse uploaded files and view storage statistics.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>

    <!-- Fetch Section -->
    <section id="section-fetch" class="dashboard-section">
      <div class="section-header">
        <h2 class="section-title">ğŸŒ HTTP Fetch</h2>
        <div class="section-actions">
          <button onclick="window.Dashboard.serverAction('fetch', 'ping')" class="btn btn-primary">ğŸ“ Ping URL</button>
        </div>
      </div>
      <div id="fetch-container" class="glass-card">
        <div class="empty-state">
          <span class="empty-icon">ğŸŒ</span>
          <h3>HTTP Fetch Utility</h3>
          <p>Ping URLs to check connectivity and response times.</p>
        </div>
      </div>
      <div id="server-action-result" class="glass-card result-container hidden"></div>
    </section>
  </main>

  <!-- Modal Container -->
  <div id="modal-container"></div>

  <!-- Footer -->
  <footer class="footer">
    <span class="footer-brand">BambiSleepâ„¢ Church MCP Control Tower</span> â€¢ 
    <span id="connection-status" class="connection-connecting">Connecting...</span>
    <span class="footer-links">
      <a href="/privacy-policy.html">Privacy</a> â€¢ 
      <a href="/terms-of-service.html">Terms</a>
    </span>
    <span class="keyboard-hint">Press <kbd>?</kbd> for shortcuts</span>
  </footer>

  <!-- Load modular application -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
